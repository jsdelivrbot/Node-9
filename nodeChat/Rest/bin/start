#!/usr/bin/env node

(function () {
  'use strict';

  let System = require('systemjs');
  require('./../config');

  function onReject(error) {
    setTimeout(function errorTime() {
      //throw error;
      console.log('start failed!' + error);
    });
  }

  System.import('./index').then(
    function onResolve(module) {
      //module = module.index;

      let server = module.index;

      server.start().then(
        function serverStartResolved() {
          // @FIX: get the value from server 
          console.log('info', 'Server running at: ', 'http://moritzs-macbook-pro.local:3000/#chat');
        }
      ).catch(
        function (val) {
          console.log(val);
        }
      );
    }
  ).catch(
    function (val) {
      console.log(val);
    }
  );
})();
